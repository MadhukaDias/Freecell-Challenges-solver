Deck configuration encoding,

TS  7H  8C  8D  9S  3H  6C  3D  
9D  KH  KC  4D  7S  QH  4H  JH  
9C  AC  4S  JC  3S  6D  TH  JS  
JD  2H  6S  9H  5D  TD  QD  5C  
8H  AD  5H  4C  AS  2S  7C  QC  
QS  8S  TC  6H  5S  2D  KD  7D
KS  AH  3C  2C

Encoded string will be: ts9d9cjd8hqsks7hkhac2had8sah...

Let's say the initial deck configuration is with filled freecells and foundation.

Ex:
[3C 5S 0 0]     [AH] [C ] [D ] [AS]

TS  7H  8C  8D  9S  3H  6C  3D  
9D  KH  KC  4D  7S  QH  4H  JH  
9C  AC  4S  JC  3S  6D  TH  JS  
JD  2H  6S  9H  5D  TD  QD  5C  
8H  AD  5H  4C      2S  7C  QC  
QS  8S  TC  6H      2D  KD  7D
KS          2C

We need to identify that configuration.

Mark 4 slots for freecells and the filling should represent like this.

Ex: [3C 0 5S 0]
Encoded string: 3c005s00

Ex: [3C TC 5S 0]
Encoded string: 3ctc5s00

Ex: [3C 9D 5S 9C]
Encoded string: 3c9d5s9c

And for the foundation same thing happens

Ex: [AH] [C ] [D ] [AS]
Encoded string: ah0000as

Ex: [AH] [5C ] [D ] [3S]
Encoded string: ah5c003s

Ex: [2H] [7C ] [2D ] [3S]
Encoded string: 2h7c2d3s

Final Encoded string should be like this.

Ex:
[3C 5S 0 0]     [AH] [C ] [D ] [AS]

TS  7H  8C  8D  9S  3H  6C  3D  
9D  KH  KC  4D  7S  QH  4H  JH  
9C  AC  4S  JC  3S  6D  TH  JS  
JD  2H  6S  9H  5D  TD  QD  5C  
8H  AD  5H  4C      2S  7C  QC  
QS  8S  TC  6H      2D  KD  7D
KS          2C

We need indicate each columns with cards since typical new game configuration is not here.

Column 1: i
Column 2: ii
Column 3: iii
Column 4: iv
Column 5: v
Column 6: vi
Column 7: vii
Column 8: viii

Encoded String should be: Freecells + Foundation + Tableau
Encoded string for the example: 3c5s0000ah0000asits9d9cjd8hqsksii7hkhac2had8siii8ckc4s...